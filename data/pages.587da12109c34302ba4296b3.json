{
  "_id": {
    "$oid": "587da12109c34302ba4296b3"
  },
  "name": "User Interface",
  "path": "ui",
  "_created": {
    "$date": "2017-01-17T04:44:17.881Z"
  },
  "_modified": {
    "$date": "2017-01-26T03:24:09.650Z"
  },
  "components": [
    "587da15309c34302ba4296b5",
    "58561c72a3ece97ebaad9eb3",
    "58561d44a3ece97ebaad9eb4",
    "585b5d49f462b7ce160c089b",
    "5858b803d872d7874bb29a67",
    "585b4b62f462b7ce160c089a",
    "586f1321ca13868a09474501",
    "585a15bfd872d7874bb29a6d",
    "585616bae4241c7d45cbee50"
  ],
  "_modifiedBy": "anonymous",
  "content": "<br-editor id=\"editor\">\n\t<app-location route=\"{{route}}\" use-hash-as-path url-space-regex=\"^/ui\"></app-location>\n\t<app-route route=\"{{route}}\" pattern=\"/:type/:id\" data=\"{{resourceData}}\" tail=\"{{resourceDataTail}}\"></app-route>\n\t<iron-ajax id=\"ajaxResource\" auto url=\"/api/{{resourceData.type}}/{{resourceData.id}}\" handle-as=\"json\" last-response=\"{{resourceResponse}}\"></iron-ajax>\n\t<app-drawer id=\"endDrawer\" class=\"resource-info\" align=\"end\" swipe-open on-app-drawer-transitioned=\"onEndDrawerTransitioned\">\n    \t<resource-info id=\"resourceInfo\"\n    \t\tresource=\"{{resourceResponse}}\" \n    \t\tresource-type=\"{{resourceData.type}}\" \n    \t\tresource-id=\"{{resourceData.id}}\"\n    \t\ton-resource-info-saved=\"onResourceInfoSaved\"\n    \t\ton-resource-info-deleted=\"onResourceInfoDeleted\"\n    \t\ton-resource-info-component-added=\"onResourceInfoComponentAdded\"\n    \t\ton-resource-info-component-removed=\"onResourceInfoComponentRemoved\"></resource-info>\n    </app-drawer>\n    <app-header>\n        <app-toolbar class=\"app-toolbar-default\">\n            <paper-icon-button icon=\"menu\" drawer-toggle></paper-icon-button>\n            <div main-title>{{resourceResponse.name}} <div class=\"sub-title\">{{resourceData.type}}</div></div>\n            <paper-tabs selected=\"{{selected}}\">\n                <paper-tab>HTML</paper-tab>\n                <paper-tab>Style</paper-tab>\n                <paper-tab>Script</paper-tab>\n            </paper-tabs>\n            <paper-button onclick=\"app.save(event)\">Save</paper-button>\n            <paper-icon-button icon=\"info-outline\" onclick=\"app.showEndDrawer()\"></paper-icon-button>\n            <paper-icon-button icon=\"settings\" onclick=\"dialogComponents.open()\"></paper-icon-button>\n        </app-toolbar>\n    </app-header>\n    <form is=\"iron-form\" id=\"form\" content-type=\"application/json\" method=\"post\" action=\"/api/{{resourceData.type}}/{{resourceData.id}}\" on-iron-form-presubmit=\"onFormPresubmit\">\n        <iron-pages id=\"resourcePages\" selected=\"{{selected}}\" on-iron-select=\"onResourcePagesSelect\">\n            <div class=\"editor-wrapper\">\n                <juicy-ace-editor id=\"content\" theme=\"ace/theme/tomorrow_night_eighties\" mode=\"ace/mode/html\">{{resourceResponse.content}}</juicy-ace-editor>\n            </div>\n            <div class=\"editor-wrapper\">\n                <juicy-ace-editor id=\"style\" theme=\"ace/theme/tomorrow_night_eighties\" mode=\"ace/mode/css\">{{resourceResponse.style}}</juicy-ace-editor>\n            </div>\n            <div class=\"editor-wrapper\">\n                <juicy-ace-editor id=\"script\" theme=\"ace/theme/tomorrow_night_eighties\" mode=\"ace/mode/javascript\">{{resourceResponse.script}}</juicy-ace-editor>\n            </div>\n        </iron-pages>\n    </form>\n</br-editor>\n<dialog-components id=\"dialogComponents\"></dialog-components>",
  "style": "body {\n    margin: 0;\n    font-family: 'Roboto', 'Noto', sans-serif;\n    background-color: #2D2D2D;\n}\n\n.app-toolbar-default {\n    background-color: #f2f2f2;\n    color: #000;\n}\n\n.sub-title {\n\tcolor: #979696;\n\tfont-size: 12px;\n}\n\napp-drawer {\n\ttop: -54px;\n\t\n    --app-drawer-content-container: {\n        background-color: #fff;\n        overflow: auto;\n    }\n}\n\npaper-tabs {\n\t--paper-tabs-selection-bar-color: #2c5986;\n}\n\npaper-tab {\n\t--paper-tab-ink: #2c5986;\n}\n\n.editor-wrapper {\n\tbackground-color: #2D2D2D;\n    position: absolute;\n    top: 64px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\njuicy-ace-editor {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}",
  "script": "var app = document.querySelector('#app');\nvar form = document.querySelector('#form');\nvar endDrawer = document.querySelector('#endDrawer');\nvar dialogComponents = document.querySelector('#dialogComponents');\nvar ajaxResource = document.querySelector('#ajaxResource');\nvar content = document.querySelector('#content');\nvar style = document.querySelector('#style');\nvar script = document.querySelector('#script');\n\napp.selected = 0;\n\napp.save = function save() {\n    form.submit();\n};\n\napp.showEndDrawer = function showEndDrawer () {\n\tendDrawer.open();\n\tcontent.style.display = 'none';\n\tstyle.style.display = 'none';\n\tscript.style.display = 'none';\n};\n\napp.onFormPresubmit = function (event) {\n\tvar request = event.target.request;\n    request.method = 'put';\n    request.body.content = content.value;\n    request.body.style = style.value;\n    request.body.script = script.value;\n};\n\napp.onEndDrawerTransitioned = function (event) {\n\tif (!endDrawer.opened) {\n\t\tcontent.style.display = 'flex';\n\t\tstyle.style.display = 'flex';\n\t\tscript.style.display = 'flex';\n\t}\t\n};\n\napp.onResourcePagesSelect = function (event) {\n\tvar editors = [content, style, script];\n\tif (editors[app.selected].editor) {\n\t\teditors[app.selected].editor.focus();\n\t\teditors[app.selected].editor.scrollToLine();\n\t\teditors[app.selected].editor.clearSelection();\n\t}\n};\n\napp.onResourceInfoSaved = function (event) {\n\tdocument.querySelector('#editor').refresh(app.resourceData.type);\n};\n\napp.onResourceInfoDeleted = function (event) {\n\tdocument.querySelector('#editor').refresh(app.resourceData.type);\n\tendDrawer.close();\n};\n\napp.onResourceInfoComponentAdded = function (event) {\n\tajaxResource.generateRequest();\n};\n\napp.onResourceInfoComponentRemoved = function (event) {\n\tajaxResource.generateRequest();\n};\n\n"
}
