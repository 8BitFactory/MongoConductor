{
  "_id": {
    "$oid": "584f63b622bc2b1668b6c1e2"
  },
  "path": "index",
  "content": "<app-location route=\"{{route}}\" use-hash-as-path></app-location>\n<app-route route=\"{{route}}\" pattern=\"/:type/:id\" data=\"{{resourceData}}\" tail=\"{{resourceDataTail}}\"></app-route>\n<iron-ajax id=\"ajaxResource\" auto url=\"/api/{{resourceData.type}}/{{resourceData.id}}\" handle-as=\"json\" last-response=\"{{resourceResponse}}\"></iron-ajax>\n<app-header-layout fullbleed>\n    <app-header fixed>\n        <app-toolbar class=\"app-toolbar-primary\">\n            <div main-title>Backrest</div>\n        </app-toolbar>\n    </app-header>\n    <div class=\"resource-wrapper\">\n\t\t<app-drawer-layout fullbleed>\n\t\t    <app-drawer swipe-open>\n\t\t    \t<resource-list id=\"resourceList\" on-create-page=\"onResourceListCreatePage\" on-create-component=\"onResourceListCreateComponent\"></resource-list>\n\t\t    </app-drawer>\n\t\t    <app-drawer id=\"endDrawer\" class=\"resource-info\" align=\"end\" swipe-open on-app-drawer-transitioned=\"onEndDrawerTransitioned\">\n\t\t    \t<resource-info id=\"resourceInfo\"\n\t\t    \t\tresource=\"{{resourceResponse}}\" \n\t\t    \t\tresource-type=\"{{resourceData.type}}\" \n\t\t    \t\tresource-id=\"{{resourceData.id}}\"\n\t\t    \t\ton-resource-info-saved=\"onResourceInfoSaved\"\n\t\t    \t\ton-resource-info-deleted=\"onResourceInfoDeleted\"\n\t\t    \t\ton-resource-info-component-added=\"onResourceInfoComponentAdded\"\n\t\t    \t\ton-resource-info-component-removed=\"onResourceInfoComponentRemoved\"></resource-info>\n\t\t    </app-drawer>\n\t\t    <app-header>\n\t\t        <app-toolbar class=\"app-toolbar-default\">\n\t\t            <paper-icon-button icon=\"menu\" drawer-toggle></paper-icon-button>\n\t\t            <div main-title>{{resourceResponse.name}} <div class=\"sub-title\">{{resourceData.type}}</div></div>\n\t\t            <paper-tabs selected=\"{{selected}}\">\n\t\t                <paper-tab>HTML</paper-tab>\n\t\t                <paper-tab>Style</paper-tab>\n\t\t                <paper-tab>Script</paper-tab>\n\t\t            </paper-tabs>\n\t\t            <paper-button onclick=\"app.save(event)\">Save</paper-button>\n\t\t            <paper-icon-button icon=\"info-outline\" onclick=\"app.showEndDrawer()\"></paper-icon-button>\n\t\t            <paper-icon-button icon=\"settings\" onclick=\"dialogComponents.open()\"></paper-icon-button>\n\t\t        </app-toolbar>\n\t\t    </app-header>\n\t\t    <form is=\"iron-form\" id=\"form\" content-type=\"application/json\" method=\"post\" action=\"/api/{{resourceData.type}}/{{resourceData.id}}\" on-iron-form-presubmit=\"onFormPresubmit\">\n\t\t        <iron-pages id=\"resourcePages\" selected=\"{{selected}}\" on-iron-select=\"onResourcePagesSelect\">\n\t\t            <div class=\"editor-wrapper\">\n\t\t                <juicy-ace-editor id=\"content\" theme=\"ace/theme/tomorrow_night_eighties\" mode=\"ace/mode/html\">{{resourceResponse.content}}</juicy-ace-editor>\n\t\t            </div>\n\t\t            <div class=\"editor-wrapper\">\n\t\t                <juicy-ace-editor id=\"style\" theme=\"ace/theme/tomorrow_night_eighties\" mode=\"ace/mode/css\">{{resourceResponse.style}}</juicy-ace-editor>\n\t\t            </div>\n\t\t            <div class=\"editor-wrapper\">\n\t\t                <juicy-ace-editor id=\"script\" theme=\"ace/theme/tomorrow_night_eighties\" mode=\"ace/mode/javascript\">{{resourceResponse.script}}</juicy-ace-editor>\n\t\t            </div>\n\t\t        </iron-pages>\n\t\t    </form>\n\t\t</app-drawer-layout>\n    </div>\n</app-header-layout>\n<dialog-components id=\"dialogComponents\"></dialog-components>\n<dialog-new-component id=\"dialogNewComponent\" on-new-component-created=\"onNewComponentCreated\"></dialog-new-component>\n<dialog-new-page id=\"dialogNewPage\" on-new-page-created=\"onNewPageCreated\"></dialog-new-page>",
  "components": [
    "584f63ef22bc2b1668b6c1e4",
    "585616bae4241c7d45cbee50",
    "58561c72a3ece97ebaad9eb3",
    "58561d44a3ece97ebaad9eb4",
    "58561f98f29db17f3d47f8d9",
    "5856200bf29db17f3d47f8da",
    "5858b546d872d7874bb29a66",
    "5858b803d872d7874bb29a67",
    "5858b872d872d7874bb29a68",
    "5858bfe9d872d7874bb29a69",
    "5858c02cd872d7874bb29a6a",
    "5858c6efd872d7874bb29a6b",
    "585a1502d872d7874bb29a6c",
    "585a15bfd872d7874bb29a6d",
    "585b4b62f462b7ce160c089a",
    "585b5d49f462b7ce160c089b",
    "585cad99f462b7ce160c089c",
    "586886a9f8fe4c340ec2adbe",
    "586886b2f8fe4c340ec2adbf",
    "58689c85ebec5b3f9d011ab1",
    "5869defe5c50c24d6e91b65e",
    "586f1321ca13868a09474501"
  ],
  "name": "Editor",
  "_modified": {
    "$date": "2017-01-12T05:04:11.920Z"
  },
  "_modifiedBy": "anonymous",
  "style": "body {\n    margin: 0;\n    font-family: 'Roboto', 'Noto', sans-serif;\n    background-color: #eee;\n}\n\n.app-toolbar-primary {\n    background-color: #2c5986;\n    color: #fff;\n}\n\n.app-toolbar-default {\n    background-color: #f2f2f2;\n    color: #000;\n}\n\n.sub-title {\n\tcolor: #979696;\n\tfont-size: 12px;\n}\n\napp-drawer-layout {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\napp-drawer {\n\ttop: -54px;\n\t\n    --app-drawer-content-container: {\n        background-color: #fff;\n        overflow: auto;\n    }\n}\n\npaper-tabs {\n\t--paper-tabs-selection-bar-color: #2c5986;\n}\n\npaper-tab {\n\t--paper-tab-ink: #2c5986;\n}\n\npaper-button.danger {\n  color: red;\n}\n\n.resource-wrapper {\n\tposition: absolute;\n\ttop: 64px;\n\tleft: 0;\n\tright: 0;\n\tbottom: 0;\n}\n\n.resource-info {\n\ttext-align: left;\n}\n\n.resource-list paper-item {\n\tmin-height: 24px;\n}\n\n.resource-list paper-item h3 {\n\tmargin: 7px 0;\n}\n\n.paper-item-link {\n    color: #000;\n    text-decoration: none;\n}\n\n.editor-wrapper {\n\tbackground-color: #2D2D2D;\n    position: absolute;\n    top: 64px;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\njuicy-ace-editor {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n\npaper-material {\n\tmargin: 8px;\n}\n\npaper-item {\n    font-size: 9pt;\n}",
  "script": "var app = document.querySelector('#app');\nvar form = document.querySelector('#form');\nvar endDrawer = document.querySelector('#endDrawer');\nvar dialogComponents = document.querySelector('#dialogComponents');\nvar dialogNewComponent = document.querySelector('#dialogNewComponent');\nvar dialogNewPage = document.querySelector('#dialogNewPage');\nvar ajaxResource = document.querySelector('#ajaxResource');\nvar resourceList = document.querySelector('#resourceList');\nvar content = document.querySelector('#content');\nvar style = document.querySelector('#style');\nvar script = document.querySelector('#script');\n\napp.selected = 0;\n\napp.save = function save() {\n    form.submit();\n};\n\napp.showEndDrawer = function showEndDrawer () {\n\tendDrawer.open();\n\tcontent.style.display = 'none';\n\tstyle.style.display = 'none';\n\tscript.style.display = 'none';\n};\n\napp.onNewComponentCreated = function (event) {\n\tresourceList.refresh('components');\n\twindow.location.hash = '/components/' + event.detail._id;\n};\n\napp.onNewPageCreated = function (event) {\n\tresourceList.refresh('pages');\n\twindow.location.hash = '/pages/' + event.detail._id;\n};\n\napp.onFormPresubmit = function (event) {\n\tvar request = event.target.request;\n    request.method = 'put';\n    request.body.content = content.value;\n    request.body.style = style.value;\n    request.body.script = script.value;\n};\n\napp.onEndDrawerTransitioned = function (event) {\n\tif (!endDrawer.opened) {\n\t\tcontent.style.display = 'flex';\n\t\tstyle.style.display = 'flex';\n\t\tscript.style.display = 'flex';\n\t}\t\n};\n\napp.onResourcePagesSelect = function (event) {\n\tvar editors = [content, style, script];\n\tif (editors[app.selected].editor) {\n\t\teditors[app.selected].editor.focus();\n\t\teditors[app.selected].editor.scrollToLine();\n\t\teditors[app.selected].editor.clearSelection();\n\t}\n};\n\napp.onResourceListCreatePage = function (event) {\n\tdialogNewPage.open();\n};\n\napp.onResourceListCreateComponent = function (event) {\n\tdialogNewComponent.open();\n};\n\napp.onResourceInfoSaved = function (event) {\n\tresourceList.refresh(app.resourceData.type);\n};\n\napp.onResourceInfoDeleted = function (event) {\n\tresourceList.refresh(app.resourceData.type);\n\tendDrawer.close();\n};\n\napp.onResourceInfoComponentAdded = function (event) {\n\tajaxResource.generateRequest();\n};\n\napp.onResourceInfoComponentRemoved = function (event) {\n\tajaxResource.generateRequest();\n};\n\n",
  "_created": {
    "$date": "2016-12-31T04:49:14.668Z"
  }
}
